!function(e){function t(t){for(var n,l,o=t[0],i=t[1],s=t[2],m=0,p=[];m<o.length;m++)l=o[m],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&p.push(r[l][0]),r[l]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(u&&u(t);p.length;)p.shift()();return c.push.apply(c,s||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],n=!0,o=1;o<a.length;o++){var i=a[o];0!==r[i]&&(n=!1)}n&&(c.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},r={0:0},c=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var o=window.webpackJsonp=window.webpackJsonp||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var u=i;c.push([76,2]),a()}({76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),o=a(82),i=a(15),s=a(87),u=a(78),m=a(47);var p=e=>r.a.createElement(s.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(s.a.Brand,{href:"/"},r.a.createElement(u.a,{src:e.logo,fluid:!0,thumbnail:!0}),"Youtube Archive"),r.a.createElement(s.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(s.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(m.a,{className:"mr-auto"},e.routes.filter(e=>!e.path.includes(":")).map(e=>{let{key:t,path:a}=e;return r.a.createElement(i.b,{key:t,to:a},t)})))),d=a(6),f=a(79),v=a(46),y=a(88),E=a(80),b=a(19);function h(e,t,a,n,r,c,l){try{var o=e[c](l),i=o.value}catch(e){return void a(e)}o.done?t(i):Promise.resolve(i).then(n,r)}function g(e){let{videos:t}=e;const a=Object(n.useRef)([]),c=Object(n.useRef)([]),l=Object(n.useRef)([]),o=Object(n.useRef)([]),i=Object(n.useRef)([]),s=function(){var e,t=(e=function*(e){e.preventDefault();const t=e.currentTarget.id,n=a.current[t].value,r=c.current[t].value,i=l.current[t].value,s=o.current[t].value;try{yield fetch("/api/videos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n,title:r,channelTitle:i,description:s,category:""})})}catch(e){console.error(e)}},function(){var t=this,a=arguments;return new Promise((function(n,r){var c=e.apply(t,a);function l(e){h(c,n,r,l,o,"next",e)}function o(e){h(c,n,r,l,o,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}(),u=e=>{const t=e.currentTarget.value;i.current[t].innerText="Added to my archive"},m=(e,t)=>{let a="";return"title"==t?a=e.substring(0,21):(t="descrip")&&(a=e.substring(0,70)),a};return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,Object.keys(t).length>0?t[0].items.map((e,t)=>r.a.createElement(v.a,{className:"resultCol",key:"".concat(e.id.videoId).concat(t),md:3,sm:4,xs:12},r.a.createElement(y.a,null,r.a.createElement(y.a.Header,null,r.a.createElement(y.a.Title,{className:"videoTitle"},m(e.snippet.title,"title")),r.a.createElement(y.a.Title,{className:"channelTitle"},e.snippet.channelTitle)),r.a.createElement(y.a.Body,null,r.a.createElement("div",{className:"videowrapper"},r.a.createElement(b.a,{videoId:e.id.videoId})),r.a.createElement(y.a.Text,null,m(e.snippet.description,"descrip")),r.a.createElement("small",null,"Video Date: ",e.snippet.publishTime)),r.a.createElement(y.a.Footer,null,r.a.createElement("form",{onSubmit:s,id:t},r.a.createElement("input",{type:"text",value:e.id.videoId,ref:e=>a.current[t]=e,className:"hide"}),r.a.createElement("input",{type:"text",value:e.snippet.title,ref:e=>c.current[t]=e,className:"hide"}),r.a.createElement("input",{type:"text",value:e.snippet.channelTitle,ref:e=>l.current[t]=e,className:"hide"}),r.a.createElement("input",{type:"text",value:e.snippet.description,ref:e=>o.current[t]=e,className:"hide"}),r.a.createElement("span",{className:"text-danger archivedMessage",ref:e=>i.current[t]=e}),r.a.createElement(E.a,{className:"addBtn",type:"sumbit",variant:"success",onClick:u,value:t},"Add to Archive")))))):""))}var O=a(81);function j(e){return r.a.createElement(O.a,{fluid:!0},r.a.createElement(o.a,null,r.a.createElement("h1",{className:"pageTitle"},e.page)))}var N=a(83);function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){T(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function T(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function S(e,t,a,n,r,c,l){try{var o=e[c](l),i=o.value}catch(e){return void a(e)}o.done?t(i):Promise.resolve(i).then(n,r)}function k(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var c=e.apply(t,a);function l(e){S(c,n,r,l,o,"next",e)}function o(e){S(c,n,r,l,o,"throw",e)}l(void 0)}))}}var x=a(86);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){R(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function R(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function B(e,t,a,n,r,c,l){try{var o=e[c](l),i=o.value}catch(e){return void a(e)}o.done?t(i):Promise.resolve(i).then(n,r)}var _=a(84),A=a(89),I=a(85);function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function M(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function F(e,t,a,n,r,c,l){try{var o=e[c](l),i=o.value}catch(e){return void a(e)}o.done?t(i):Promise.resolve(i).then(n,r)}function L(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var c=e.apply(t,a);function l(e){F(c,n,r,l,o,"next",e)}function o(e){F(c,n,r,l,o,"throw",e)}l(void 0)}))}}function J(e,t,a,n,r,c,l){try{var o=e[c](l),i=o.value}catch(e){return void a(e)}o.done?t(i):Promise.resolve(i).then(n,r)}function Y(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var c=e.apply(t,a);function l(e){J(c,n,r,l,o,"next",e)}function o(e){J(c,n,r,l,o,"throw",e)}l(void 0)}))}}var G=[{Component:function(e){const[t,a]=Object(n.useState)([]),[c,l]=Object(n.useState)([]),o=Object(n.useRef)([]),s=Object(n.useRef)([]);Object(n.useEffect)(()=>{Y((function*(){try{const e=yield fetch("/api/videos"),t=yield e.json();a(t)}catch(e){console.error(e)}}))()},[t]);const u=function(){var e=Y((function*(e){const t=e.currentTarget.id.replace("delVideoBtn",""),a=o.current[t].value;try{const e=yield fetch("/api/videos/".concat(a),{method:"DELETE",headers:{"Content-Type":"application/json"}});yield e.json()}catch(e){console.log(e)}}));return function(t){return e.apply(this,arguments)}}(),m=(e,t)=>{let a="";return"title"==t?a=e.substring(0,18):(t="descrip")&&(a=e.substring(0,70)+"..."),a},p=function(){var e=Y((function*(e){const t=e.target.innerText.replace("#","").toLowerCase();"all"==t?yield l(""):l(t)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"MyVideo"},r.a.createElement(j,{page:e.page}),r.a.createElement(f.a,{className:"hashTagRow"},r.a.createElement(v.a,{md:6,sm:12,xs:12},r.a.createElement("div",null,r.a.createElement(_.a,{pill:!0,variant:"primary"},r.a.createElement("span",{onClick:p},"#Drama"))," ",r.a.createElement(_.a,{pill:!0,variant:"warning"},r.a.createElement("span",{onClick:p},"#Music"))," ",r.a.createElement(_.a,{pill:!0,variant:"info"},r.a.createElement("span",{onClick:p},"#Code"))," ",r.a.createElement(_.a,{pill:!0,variant:"success"},r.a.createElement("span",{onClick:p},"#Other"))," ",r.a.createElement(_.a,{pill:!0,variant:"dark"},r.a.createElement("span",{onClick:p},"#All"))))),r.a.createElement(f.a,null,Object.keys(t).length?t.filter(e=>e.category.includes(c)).map((t,a)=>r.a.createElement(v.a,{key:t._id,className:"myVideoCol ".concat(t.category),md:3,sm:4,xs:12,ref:e=>{s.current[a]=e}},r.a.createElement(y.a,null,r.a.createElement(y.a.Header,null,r.a.createElement(y.a.Title,{className:"videoTitle"},m(t.title,"title"),r.a.createElement(_.a,{className:"videoCategory",variant:e.setBadge(t.category)},null!=t.category?t.category:"")),r.a.createElement(y.a.Title,{className:"channelTitle"},t.channelTitle)),r.a.createElement(y.a.Body,null,r.a.createElement("div",{className:"videowrapper"},r.a.createElement(b.a,{videoId:t.id})),r.a.createElement(y.a.Text,{className:"videoDescrip"},m(t.description,"descrip"))),r.a.createElement(y.a.Footer,null,r.a.createElement(E.a,{className:"delVideoBtn",type:"button",variant:"outline-danger",id:"delVideoBtn".concat(a),onClick:u,value:t._id,ref:e=>{o.current[a]=e}},"Delete"),r.a.createElement(i.b,{to:"/".concat(t._id)},r.a.createElement(E.a,{type:"button",variant:"outline-dark"},"Update")))))):""))},key:"My Videos",path:"/myvideos"},{Component:function(e){return r.a.createElement("div",{className:"AboutPage"},r.a.createElement(O.a,{fluid:!0},r.a.createElement(o.a,null,r.a.createElement("h1",null,"Personal Youtube Archive"),r.a.createElement("p",null,"This is an app which enables users to archives videos and add comments and rating."))))},key:"About",path:"/about"},{Component:function(e){const t=Object(n.useRef)(null),a=Object(n.useRef)(null),[c,l]=Object(n.useState)({isSubmited:!1,message:"You have subimited your contact information."}),o=function(){var e,n=(e=function*(e){e.preventDefault();const n=t.current.value,r=a.current.value;try{yield fetch("/api/contacts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,message:r})}),l(D(D({},c),{},{isSubmited:!0}))}catch(e){console.error(e)}},function(){var t=this,a=arguments;return new Promise((function(n,r){var c=e.apply(t,a);function l(e){B(c,n,r,l,o,"next",e)}function o(e){B(c,n,r,l,o,"throw",e)}l(void 0)}))});return function(e){return n.apply(this,arguments)}}();return r.a.createElement("div",{className:"ContactPage"},r.a.createElement(j,{page:e.page}),r.a.createElement("div",{className:"contactForm"},r.a.createElement(f.a,null,r.a.createElement(v.a,{lg:12,md:12,sm:12,xs:12},r.a.createElement(x.a,{onSubmit:o},r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,null,"Email address"),r.a.createElement(x.a.Control,{type:"email",placeholder:"Enter email",ref:t}),r.a.createElement(x.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,null,"Message"),r.a.createElement(x.a.Control,{as:"textarea",rows:3,ref:a})),r.a.createElement(E.a,{variant:"primary",type:"submit"},"Submit")),r.a.createElement("h2",{className:"confirmMessage"},c.isSubmited?c.message:"")))))},key:"Contact",path:"/contact"},{Component:function(e){const[t,a]=Object(n.useState)({}),[c,l]=Object(n.useState)("comment"),[o,s]=Object(n.useState)(0),u=Object(n.useRef)(null),m=Object(n.useRef)(null),p=Object(n.useRef)(null),d=Object(n.useRef)(null),f=Object(n.useRef)([]),v=Object(n.useRef)(null),h=["code","music","drama","other"];Object(n.useEffect)(()=>{L((function*(){try{const t=yield fetch("/api/videos/".concat(e.match.params.id)),n=yield t.json();a(n)}catch(e){console.log(e)}}))()},[t]);const g=function(){var e=L((function*(e){e.preventDefault();const t=u.current.value,n=m.current.value,r=p.current.value,c=d.current.value;console.log("rating: "+r);try{const e=yield fetch("/api/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,message:n,rating:r,videoId:c})}),l=yield e.json();a(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){M(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},l))}catch(e){console.error(e)}}));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=L((function*(e){e.preventDefault();const t=e.currentTarget.id.replace("comment",""),a=f.current[t].value;if(console.log(a),null!=t)try{yield fetch("/api/comments/".concat(a),{method:"DELETE",headers:{"Content-Type":"application/json"}})}catch(e){console.error(e)}}));return function(t){return e.apply(this,arguments)}}(),j=function(){var t=L((function*(t){t.preventDefault();const n=e.match.params.id;console.log(n);try{const t=yield fetch("/api/videos/".concat(e.match.params.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:v.current.value})});console.log(t);const n=yield t.json();a(n)}catch(e){console.error(e)}}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"VideoPost"},r.a.createElement("div",{className:"logoDiv"},r.a.createElement("h1",{className:"pageTitle"},e.page)),r.a.createElement("div",{className:"showVideoDiv"},r.a.createElement(y.a,null,r.a.createElement(y.a.Header,null,r.a.createElement(y.a.Title,null,t.title?t.title:"",r.a.createElement(_.a,{variant:e.setBadge(t.category)},null!=t.category?t.category:""))),r.a.createElement(y.a.Body,null,r.a.createElement("div",{className:"videowrapper"},r.a.createElement(b.a,{videoId:t.id})),r.a.createElement(y.a.Text,{className:"post_descrip"},t.description)),r.a.createElement(y.a.Body,null,r.a.createElement("h2",{className:"commentTitle"},"Comments"),r.a.createElement("ul",null,t.comments&&t.comments.length>0?t.comments.map((e,t)=>r.a.createElement("li",{key:"".concat(e._id)},r.a.createElement("p",null,r.a.createElement("span",{className:"name"},r.a.createElement("strong",null,e.name),":"," "),e.message,r.a.createElement(E.a,{id:"comment".concat(t),className:"cmDelBtn",type:"submit",variant:"danger",ref:e=>f.current[t]=e,value:e._id,onClick:O},r.a.createElement("i",{className:"far fa-trash-alt"}))),r.a.createElement("h5",null,(()=>{const t=[];for(let a=0;a<e.rating;a++)t.push(r.a.createElement("i",{className:"fas fa-star text-warning"}));return t})())," ",r.a.createElement("small",null,e.createdAt))):"")),r.a.createElement(y.a.Body,{className:"inputBody"},r.a.createElement(A.a,{id:"inputFormTab",activeKey:c,onSelect:e=>l(e)},r.a.createElement(I.a,{eventKey:"comment",title:"comment"},r.a.createElement("div",{className:"commentFormDiv"},r.a.createElement("label",{className:"formLabel"},"Comment Form"),r.a.createElement("form",{className:"form",onSubmit:g},r.a.createElement("input",{className:"commentInput",type:"text",placeholder:"Username",ref:u}),r.a.createElement("input",{className:"commentInput",type:"text",placeholder:"Comment",ref:m}),r.a.createElement("div",{className:"ratingDiv"},r.a.createElement("button",{className:"rateBtn",type:"button",onClick:()=>{s(o<1?0:o-1)}},r.a.createElement("i",{class:"fas fa-minus"})),r.a.createElement("input",{className:"ratingInput",type:"text",placeholder:"0 ~ 5 for rating",ref:p,value:o}),r.a.createElement("button",{className:"rateBtn",type:"button",onClick:()=>{s(o>4?5:o+1)}},r.a.createElement("i",{class:"fas fa-plus"}))),r.a.createElement("input",{type:"text",value:t._id,ref:d,className:"hide"}),r.a.createElement(N.a.Append,null,r.a.createElement(E.a,{variant:"success",type:"submit"},"Add comment"),r.a.createElement(i.b,{className:"backTolistLink",to:"/myvideos"},"Go back to my video list"))))),r.a.createElement(I.a,{eventKey:"category",title:"category"},r.a.createElement("div",{className:"categoryFormDiv"},r.a.createElement("label",{className:"formLabel"},"Category Form"),r.a.createElement("form",{className:"form",onSubmit:j},r.a.createElement("select",{ref:v},(()=>{const e=[];for(let t=0;t<h.length;t++)e.push(r.a.createElement("option",{value:h[t]},h[t]));return e})()),r.a.createElement(N.a.Append,null,r.a.createElement(E.a,{variant:"success",type:"submit"},"Update Category"))))))))))},key:"VideoPost",path:"/:id"},{Component:function(e){var t="https://www.googleapis.com/youtube/v3/search?";const a="AIzaSyBecvdGyXMfpfhARBOmTIoTzsDvEuNTxgg",[c,l]=Object(n.useState)({q:"",part:"snippet",key:a,type:"video",maxResults:8}),[o,i]=Object(n.useState)(""),s=Object(n.useRef)(null),[u,m]=Object(n.useState)([]);Object(n.useEffect)(()=>{k((function*(){if(o)try{const e=yield fetch(o),t=yield e.json();console.log(t),yield m([P({},t)])}catch(e){console.error(e)}finally{l({q:"",part:"snippet",key:a,type:"video",maxResults:8})}}))()},[o]);const p=function(){var e=k((function*(e){e.preventDefault();for(let e in c)t+=e+"="+c[e]+"&";t=t.substr(0,t.length-1),i(t)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{page:e.page}),r.a.createElement("div",{className:"search"},r.a.createElement("form",{onSubmit:p},r.a.createElement(N.a,null,r.a.createElement("input",{id:"q",type:"text",placeholder:"Enter Video Title",ref:s,onChange:e=>{l(P(P({},c),{},{[e.target.id]:e.target.value}))}}),r.a.createElement(N.a.Append,null,r.a.createElement(E.a,{variant:"light",type:"submit"},r.a.createElement("i",{className:"fas fa-search fa-2x"})))))),r.a.createElement(g,{videos:u}))},key:"Search Videos",path:"/"}];function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var q=e=>{const t=e=>{const t={code:"info",music:"warning",drama:"primary",other:"success"};for(let a in t)if(e==a)return t[a]};return r.a.createElement(i.a,null,r.a.createElement(p,{routes:G,logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/Logo_of_YouTube_%282015-2017%29.svg/1004px-Logo_of_YouTube_%282015-2017%29.svg.png"}),r.a.createElement(o.a,{fluid:!0,className:"AppPage"},r.a.createElement(d.c,null,G.map(e=>{let{Component:a,key:n,path:c}=e;return r.a.createElement(d.a,{key:n,path:c,component:e=>r.a.createElement(a,U({page:n},e,{setBadge:t}))})}))),r.a.createElement("div",{className:"footer"},r.a.createElement("span",null,r.a.createElement("strong",null,"2021 "),"School Project React JS App by James")))};a(71);const H=document.getElementById("app");l.a.render(r.a.createElement(q,null),H)}});